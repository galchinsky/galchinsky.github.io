---
layout: post
title:  Как полюбить консоль
---

Мотивация простая: работа в консоли позволяет заметить свои рутинные операции и быстро их ускорить. Даже 10% меньшей рутины на длинной дистанции - это много. Но есть проблема входа: как правило, начинают все с "GUI-программиста", и не понятно, с чего начать, если все неудобно, а консоль представляется в виде километровых команд git bash винды. Зачастую непонятно даже, зачем начинать.

Поэтому вот список советов, банальных и не очень, как начать получать пользу от консоли. Целевая аудитория, наверное, начинающий ML и CV пипл, потому что какие-нибудь девопсы и без меня разберутся, со своими ansible и докерами.

### Общий стиль работы

* Печать вслепую. Это лучшая и универсальная инвестиция в собственное образование после английского языка.
* Стремиться нужно к тому, чтобы одно нажатие кнопки запускало все, что нужно, производило тесты и выдавало их результаты для анализа и повторения цикла. Если после нажатия на кнопку сборки приходится делать десяток кликов мышки, чтобы посмотреть результат, тут что-то не то.
* Не должно пугать то, что попытка автоматизации этих десяти кликов мышки заняла в 10 раз больше времени. Навык делать это на автомате придет только если этим заниматься.
* Такие штуки, как IDE, питоньи ноутбуки и отладчик хороши в определенной нише, но есть тендеция прикипать к ним и использовать их там, где они уже только замедляют разработку. Например, когда часами накликивается step-in/over вместо того, чтобы писать в файл подробный лог и проанализировать историю изменения величины. Или когда для запуска тренировки нейронки нужно кликнуть на десяток ячеек в ноутбуке в определенном порядке. Или когда запускают IDE для правки одного файла.
* Если после git clone проекта нужно два дня что-то настраивать, это нужно починить.

### Файловая структура

* Об автодополнении нужно думать сразу. Не надо называть файлы с разным назначением близкими префиксами. В идеале, каждый файл должен автодополняться по буква[tab].
* Cтруктура, в которой много папок, а в них мало файлов - это для GUI, потому что в большом списке искать глазами неудобно. В консоли вполне можно работать, имея тысячу файлов в директории. Баланс для GUI и консоли находится где-то в районе "список еле влезает на экран".
* Пути должны быть короткими
* При совместной работе, когда структуру проекта поменять невозможно, можно создать симлинки

### Команды

* `ls -ltr` - список файлов, отсортированный по дате (мнемоника типа list time reverse). Самые релевантные внизу
* `rsync` - позволяет копировать файлы между машинами, копируя только те, которые изменились, при этом не тормозя на куче мелких файлов, в отличие от scp. scp, если кто не знает, это копирование файлов по ssh.
* `sshfs user@server:/ localfolder` превращает удаленную папку в локальную. Возможные сценарии использования: редактирование файлов на сервере на каналах с большой задержкой. Просмотр файлов, сгенерированных удаленно. Открытие локальным скриптом удаленных файлов для рисования всяческих графиков.
* `nano` - если его настроить, он становится весьма неплохим редактором. Но больше всего он себя раскрывает при работе через терминал на телефоне
* `tmux` - позволяет создавать на удаленном сервере сессию, которая не закрывается при разлогине, с окошками, вкладками и чем угодно
* `xdg-open` - эмулятор открытия файла в файловом менеджере. Какое приложение повешено, то и откроется. Позволяет не помнить, а как называется просмотрщик картинок в убунте, например
